# 内积

### 内积的定义

>[!note] 内积 (inner product)
>内积 $\mathbb{V}\times\mathbb{V}\to \mathbb{F}$ 是一种映射，满足如下性质：
>1. 对称性：$(a, b)=(b, a)$
>2. 正定性：$(a, a)\geq 0$ 且 $(a, a) = 0 \iff a=0$ 
>3. 线性性：$(\lambda a+\mu \tilde{a}, b)=\lambda(a, b)+\mu(\tilde{a}, b)$

### 由内积到范数

通过内积的定义，必然可以诱导出此处范数的定义。这也即说明了，所有的内积空间一定是赋范空间。

>[!note] 欧式范数的定义
>$$\parallel a\parallel=\sqrt{ (a,a) }$$

#### 良定义

下面验证这是一个良定义。也即要验证这个东西是否满足范数的三条性质：
1. 正定性，显然成立
2. 齐次性：
$$
\parallel \lambda a\parallel=\sqrt{ (\lambda a,\lambda a) }=\sqrt{ \lambda^2(a,a) }=\lambda \sqrt{ (a,a) }=\lambda \parallel a\parallel
$$
验证得到齐次性成立

3. 三角形不等式：
也即是要证明：
$$
\parallel a+b\parallel\leq \parallel a\parallel+\parallel b\parallel
$$
倒过来推，两边同时平方，得到：
$$
(a+b,a+b)\leq(a,a)+(b,b)+2\sqrt{ (a,a)(b,b) }
$$
再消一消，得到：
$$
2(a,b)\leq 2\sqrt{ (a,a)(b,b) }
$$
也即是要证明：
$$
(a,b)^2\leq (a,a)(b,b)
$$

>[!note] 注解
>从这个形式看，其实就是柯西不等式的向量形式，也即是：$$|ab|^2\leq|a|\cdot |b|$$那么我们只要找到证明柯西不等式的方式，套用过来即可。下面采用二次函数判别式的方式证明柯西不等式

考察如下范数，其中满足 $t\in \mathbb{R}$：
$$
\parallel a+tb\parallel^2=(a+tb,a+tb)=(a,a)+2t(a,b)+t^2(b,b)
$$
而这个东西显然满足：
$$
\Delta=4(a,b)^2-4(a,a)(b,b)\leq 0
$$
因此要证明的式子成立

因此这样定义的范数是良定义的

#### 另外一种表示

另外，对于高维向量（这里不单指几何向量），其实可以将欧式范数写成另外的形式：
$$
(x,y)=((x_{1},x_{2},x_{3},\dots),(y_{1},y_{2},y_{3},\dots))=(x_{1}y_{1},x_{2}y_{2},x_{3}y_{3},\dots)=xy^\top
$$
特别地，对于同一个向量，有如下形式：
$$
\parallel a\parallel^2=a\cdot a^\top
$$
这样的描述形式其实暗合于 [[转置#引理]]，也即这个引理其实就是在描述正定性

### 夹角的定义

两个几何向量的夹角的定义也由内积的定义诱导出来。

>[!note] 夹角
>对于两个非零向量，定义两个向量的夹角为：$$\langle a,b\rangle \  = \arccos\frac{(a,b)}{\parallel a\parallel \parallel b\parallel}$$

#### 良定义

下面验证这是一个良定义。这也即是要验证，对于任何两个非零向量，他们两个之间都有夹角，且夹角的值是唯一的。

由上述范数的三角形不等式，可以知道：
$$
(a,b)\leq \sqrt{ (a,a) (b,b)} =\parallel a\parallel \parallel b\parallel
$$
这说明，反余弦里面的东西是大于 -1 且小于 1 的，这也就说明上面的东西能算出来，存在性验证成立。另一方面，反余弦在这段上是一一映射，因此任意给定的值对应的反余弦一定是唯一的。所以是良定义。

#### 推论：内积用夹角表示
$$
(a,b)=\parallel a\parallel \parallel b\parallel \cos\langle a,b\rangle
$$
这是显然的

#### 推论：内积诱导出余弦定理

一方面，由内积的夹角表示，可以得出：
$$
(a,b)=\parallel a\parallel \parallel b\parallel \cos \theta
$$
另一方面，在三角形中，有：
$$
\parallel c\parallel^2=(c,c)=(a-b,a-b)=(a,a)+(b,b)-2(a,b)=\parallel a\parallel^2+\parallel b\parallel^2-2(a,b)
$$
合并两个式子，即得到余弦定理。

换句话说，余弦定理的形式几乎都是我们定义出来的

### 正交

特别地，我们定义：

>[!note] 正交（垂直）
>若 $(a,b)=0$，则称 $a$ 与 $b$ 正交

这样由内积定义的正交必然诱导出夹角为 $\pi/2$；另一方面，由于反余弦函数是一一映射，因而夹角为 $\pi/2$ 必然推得 $(a,b)=0$，在两个向量都非零的时候。

而由此定义出的正交必然可以诱导出勾股定理。略去证明，因为太显然了

### 仿射坐标系的建立

由内积的概念，我们可以更加形式化地描述仿射坐标系。给定一个仿射坐标系：
$$
V(O;e_{1},e_{2},e_{3})
$$
在这个仿射坐标系当中，选定两个向量，做内积，则有：
$$
\begin{align}
a\cdot b&=(a_{1}e_{1}+a_{2}e_{2}+a_{3}e_{3})\cdot(b_{1}e_{1}+b_{2}e_{2}+b_{3}e_{3}) \\
&=\begin{bmatrix}
a_{1}&a_{2}&a_{3}
\end{bmatrix}\begin{bmatrix}
(e_{1},e_{1})&(e_{1},e_{2}) &(e_{1},e_{3}) \\
(e_{2},e_{1})&(e_{2},e_{2}) &(e_{2},e_{3}) \\
(e_{3},e_{1})&(e_{3},e_{2}) &(e_{3},e_{3})
\end{bmatrix}\begin{bmatrix}
b_{1} \\
b_{2} \\
b_{3}
\end{bmatrix}
\end{align}
$$
显然，一方面，对于任意的仿射坐标系，对于两个向量的内积，都可以表示成上述形式。另一方面，对于确定的仿射坐标系，中间部分矩阵确定，两边的向量可变，因而中间部分的矩阵可认为是仿射坐标系的固有性质，称为仿射坐标系的 **度量阵** 

### 直角坐标系的建立

特别地，当度量阵为 $I_3$ 时，称此特殊的仿射坐标系为直角坐标系。

#### 对于右手系/左手系的说明

注意到，如果仅仅使用内积，我们无法描述右手系与左手系的区别。右手系与左手系可以认为仅仅是 $e_{3}$ 差了一个正负号。而在度量阵中，由于 $(e_{3},e_{3})=\parallel e_{3}\parallel^2$ ，无法体现出正负号的差别，因此无法区分。

但是相应的，如果使用外积，我们就可以描述右手系了。

#### 内积在直角坐标系中

对于某个直角坐标系 $V(O;e_{1},e_{2},e_{3})$，我们计算内积：
$$
(a,b)=a_{1}b_{1}+a_{2}b_{2}+a_{3}b_{3}
$$
如果我们选定三维空间内另外一个直角坐标系 $V(O;\tilde{e}_{1},\tilde{e}_2,\tilde{e}_3)$ ，由于其度量阵仍然相同，因此我们仍然有：
$$
(a,b)=\tilde{a}_{1}\tilde{b}_{1}+\tilde{a}_{2}\tilde{b}_{2}+\tilde{a}_{3}\tilde{b}_{3}
$$
可见，内积的表达式在不同的直角坐标系中是相同的。另一方面，由于内积的值并不依赖于坐标系，因此得到的结果显然相同。这也就说明，内积的定义符合客观性原理。

#### 范数在直角坐标系中

显然有：
$$
\parallel a \parallel=\sqrt{ x_a^2+y_a^2+z_a^2 }
$$
这是直接推出来的