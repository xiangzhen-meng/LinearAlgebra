# 内积

### 内积的定义

>[!note] 内积 (inner product)
>内积 $\mathbb{V}\times\mathbb{V}\to \mathbb{F}$ 是一种映射，满足如下性质：
>1. 对称性：$(a, b)=(b, a)$
>2. 正定性：$(a, a)\geq 0$ 且 $(a, a) = 0 \iff a=0$ 
>3. 线性性：$(\lambda a+\mu \tilde{a}, b)=\lambda(a, b)+\mu(\tilde{a}, b)$

也有人这样描述：内积是一种对称的正定的双线性函数。但是需要注意的是，内积的定义并没有给出其具体的计算方法，也即我们可以定义多种内积。下面举出几个例子：

>[!example] 内积的例子
>1. $x=(e_{1},e_{2},e_{3})(x_{1},x_{2},x_{3})^\top;y=(e_{1},e_{2},e_{3})(y_{1},y_{2},y_{3})^\top$，则有：$$(x,y)=x_{1}y_{1}+x_{2}y_{2}+x_{3}y_{3}$$这样定义的内积就是我们中学时代学习的内积
>2. 在 $R[0,1]$ 上定义内积：$$(f,g)=\int_0^1f(x)g(x)dx$$这样定义的内积可以参看 [[柯西不等式#从内积空间的角度理解]]

此处，定义了内积的线性空间称为欧氏空间

### 由内积到范数

通过内积的定义，必然可以诱导出此处范数的定义。这也即说明了，所有的内积空间一定是赋范空间

>[!note] 欧式范数的定义
>$$\parallel a\parallel=\sqrt{ (a,a) }$$

#### 良定义

下面验证这是一个良定义。也即要验证这个东西是否满足范数的三条性质：
1. 正定性，显然成立
2. 齐次性：
$$
\parallel \lambda a\parallel=\sqrt{ (\lambda a,\lambda a) }=\sqrt{ \lambda^2(a,a) }=\lambda \sqrt{ (a,a) }=\lambda \parallel a\parallel
$$
验证得到齐次性成立

3. 三角形不等式：
也即是要证明：
$$
\parallel a+b\parallel\leq \parallel a\parallel+\parallel b\parallel
$$
倒过来推，两边同时平方，得到：
$$
(a+b,a+b)\leq(a,a)+(b,b)+2\sqrt{ (a,a)(b,b) }
$$
再消一消，得到：
$$
2(a,b)\leq 2\sqrt{ (a,a)(b,b) }
$$
也即是要证明：
$$
(a,b)^2\leq (a,a)(b,b)
$$

>[!note] 注解
>从这个形式看，其实就是柯西不等式的向量形式，也即是：$$\lVert ab \rVert ^2\leq \lVert a \rVert \cdot \lVert b \rVert $$那么我们只要找到证明柯西不等式的方式，套用过来即可。下面采用经典的二次函数判别式的方式证明柯西不等式

考察如下范数，其中满足 $t\in \mathbb{R}$：
$$
\parallel a+tb\parallel^2=(a+tb,a+tb)=(a,a)+2t(a,b)+t^2(b,b)
$$
而这个东西显然满足：
$$
\Delta=4(a,b)^2-4(a,a)(b,b)\leq 0
$$
因此要证明的式子成立

因此这样定义的范数是良定义的

#### 另外一种表示

另外，对于高维向量（这里不单指几何向量），其实可以将欧式范数写成另外的形式：
$$
(x,y)=((x_{1},x_{2},x_{3},\dots),(y_{1},y_{2},y_{3},\dots))=(x_{1}y_{1},x_{2}y_{2},x_{3}y_{3},\dots)=xy^\top
$$
特别地，对于同一个向量，有如下形式：
$$
\lVert a \rVert ^2=a\cdot a^\top
$$
这样的描述形式其实暗合于 [[转置#引理]]，也即这个引理其实就是在描述内积可以写成这样的形式，并体现出正定性

### 夹角的定义

两个几何向量的夹角的定义也由内积的定义诱导出来

>[!note] 夹角
>对于两个非零向量，定义两个向量的夹角为：$$\langle a,b\rangle \  = \arccos\frac{(a,b)}{\parallel a\parallel \parallel b\parallel}$$

#### 良定义

下面验证这是一个良定义。这也即是要验证，对于任何两个非零向量，他们两个之间都有夹角，且夹角的值是唯一的

由上述范数的三角形不等式，可以知道：
$$
(a,b)\leq \sqrt{ (a,a) (b,b)} =\parallel a\parallel \parallel b\parallel
$$
这说明，反余弦里面的东西是大于 -1 且小于 1 的，这也就说明上面的东西能算出来，存在性验证成立。另一方面，反余弦在这段上是一一映射，因此任意给定的值对应的反余弦一定是唯一的。所以是良定义

#### 推论：内积用夹角表示
$$
(a,b)=\parallel a\parallel \parallel b\parallel \cos\langle a,b\rangle
$$
这是显然的

#### 推论：内积诱导出余弦定理

一方面，由内积的夹角表示，可以得出：
$$
(a,b)=\parallel a\parallel \parallel b\parallel \cos \theta
$$
另一方面，在三角形中，有：
$$
\parallel c\parallel^2=(c,c)=(a-b,a-b)=(a,a)+(b,b)-2(a,b)=\parallel a\parallel^2+\parallel b\parallel^2-2(a,b)
$$
合并两个式子，即得到余弦定理

换句话说，余弦定理的形式几乎都是我们定义出来的

### 正交

特别地，我们定义：

>[!note] 正交（垂直）
>若 $(a,b)=0$，则称 $a$ 与 $b$ 正交

这样由内积定义的正交必然诱导出夹角为 $\pi/2$；另一方面，由于反余弦函数是一一映射，因而夹角为 $\pi/2$ 必然推得 $(a,b)=0$，在两个向量都非零的时候

而由此定义出的正交必然可以诱导出勾股定理。略去证明，因为太显然了

### 更好的[[仿射坐标系与直角坐标系]]

在仿射坐标系中可以定义内积