# 矩阵的分块

## 对角分块的行列式计算
### 概述
$$
\begin{bmatrix} A & C \\ 0 & B\end{bmatrix} = |A||B|
$$
同理，由行列式经 [[转置]] 值不变，有下式：
$$
\begin{bmatrix} A & 0 \\ C & B\end{bmatrix} = |A||B|
$$
### 证明：
#### 证明一：直接展开

不妨设方阵 A 为 $n\times n$ ，方阵 B 为 $m\times m$ 
注意到左下角均为 0 ，因此在选择的时候，前 n 行只能选 A ，后 m 行只能选 B

>[!note] 注意排列种数
此时：原来的 $(m + n)!$ 种排列方式变成了 $m! \cdot n!$ 种排列方式）

**考虑符号** ：
从 $j_1$ 到 $j_{m + n}$ 的逆序数，变为了现在的：
![[IMG-20250918135848775.jpeg]]
而左半段严格小与右半段，**两段之间不交**，两端之间绝不可能出现逆序数
因此总逆序数等于两端的逆序数相加

**考虑求和求积** ：
显然 m 与 n 是独立的，因此求和可以换序
相当于将：
$$
(j_{n+1}, \dots , j_{n+m})
$$
将所有 A 矩阵求和相同的收拾在一起，提出一个公因式
提出之后，由于独立，可以将两个求和直接简单乘法，每个求和相当于一个行列式
#### 证明二：将行列式按行展开

考虑使用归纳法证明，
$$
\begin{vmatrix}
a_{11} & \cdots & a_{1k} & 0 & 0 \\
\vdots & & \vdots & \vdots & \vdots \\
a_{k1} & \cdots & a_{kk} & 0 & \cdots & 0 \\
c_{11} & \cdots & c_{1k} & b_{11} & \cdots & b_{1r} \\
\vdots & & \vdots & \vdots & & \vdots \\
c_{r1} & \cdots & c_{rk} & b_{r1} & \cdots & b_{rr}
\end{vmatrix}
=
\begin{vmatrix}
a_{11} & \cdots & a_{1k} \\
\vdots & & \vdots \\
a_{k1} & \cdots & a_{kk}
\end{vmatrix}
\begin{vmatrix}
b_{11} & \cdots & b_{1r} \\
\vdots & & \vdots \\
b_{r1} & \cdots & b_{rr}
\end{vmatrix}.
$$
我们对 k 用数学归纳法.
当 k = 1 时, 上式的左端为
$$
\begin{vmatrix}
a_{11} & 0 & 0 \\
c_{11} & b_{11} & b_{1r} \\
\vdots & \vdots & \vdots \\
c_{r1} & b_{r1} & \cdots & b_{rr}
\end{vmatrix}.
$$
按第一行展开, 就得到所要的结论.

假设原式对 k = m - 1 成立，考察 k = m 的情形
$$
\begin{vmatrix}
a_{11} & a_{1m} & 0 & 0 \\
\vdots & \vdots & \vdots & \vdots \\
a_{m1} & a_{mm} & 0 & 0 \\
c_{11} & c_{1m} & b_{11} & \cdots & b_{1r} \\
\vdots & \vdots & \vdots & & \vdots \\
c_{r1} & c_{rm} & b_{r1} & & b_{rr}
\end{vmatrix}
$$
对其按列 (a11, a12, a13, ... , a1m, 0, 0, ... , 0) 展开
$$
\begin{align*}
&=
a_{11}
\begin{vmatrix}
a_{22} & \cdots & a_{2m} & 0 & \cdots & 0 \\
\vdots & & \vdots & \vdots & & \vdots \\
a_{m2} & \cdots & a_{mm} & 0 & & 0 \\
c_{12} & & c_{1m} & b_{11} & \cdots & b_{1r} \\
\vdots & & \vdots & \vdots & & \vdots \\
c_{r2} & \cdots & c_{rm} & b_{r1} & & b_{rr}
\end{vmatrix}
+
\cdots +
(-1)^{1+m}a_{1m}
\begin{vmatrix}
a_{21} & \cdots & a_{2,m-1} & 0 & \cdots & 0 \\
\vdots & & \vdots & \vdots & & \vdots \\
a_{m1} & \cdots & a_{m,m-1} & 0 & & 0 \\
c_{11} & & c_{1,m-1} & b_{11} & \cdots & b_{1r} \\
\vdots & & \vdots & \vdots & & \vdots \\
c_{r1} & \cdots & c_{r,m-1} & b_{r1} & & b_{rr}
\end{vmatrix}
\\
\end{align*}
$$
展开后的代数余子项为 k = m - 1 的情况，直接使用归纳假设，得到
$$
\begin{align*}
&=
\left[
a_{11}
\begin{vmatrix}
a_{22} & & a_{2m} \\
\vdots & & \vdots \\
a_{m2} & \cdots & a_{mm}
\end{vmatrix}
\right. 
+
\left.\cdots +
(-1)^{1+m}a_{1m}
\begin{vmatrix}
a_{21} & \cdots & a_{2,m-1} \\
\vdots & & \vdots \\
a_{m1} & \cdots & a_{m,m-1}
\end{vmatrix}
\right]
\cdot
\begin{vmatrix}
b_{11} & \cdots & b_{1r} \\
\vdots & & \vdots \\
b_{r1} & & b_{rr}
\end{vmatrix}
\end{align*}
$$
而上式恰好为 A 行列式的代数余子项，将其做展开的逆运算，得到
$$
\begin{align}
=
\begin{vmatrix}
a_{11} & \dots &a_{mm} \\
\vdots & &\vdots \\
a_{m1} & \dots &a_{mm}
\end{vmatrix} \cdot 
\begin{vmatrix}
b_{11} & \dots &a_{1r} \\
\vdots & &\vdots \\
a_{r1} & \dots &a_{rr}
\end{vmatrix}
\end{align}
$$
证毕

## 重要的例题

>[!question] 重要例题
>$$\begin{vmatrix}I_n&B\\A&I_s\end{vmatrix}=\begin{vmatrix}I_s-AB\end{vmatrix}=\begin{vmatrix}I_n-BA\end{vmatrix}$$

这是很重要的例题。证明只要使用分块初等变换即可

重要的是两个方面：
1. 如果要求单位阵减去某两个方阵积之差的行列式，他们是可交换的。这并不表示 A 和 B 是可交换的，但是这个特殊的行列式里他们是可交换的
2. 特别地，对于 **向量**，有特殊的情形可以使行列式直接退化为数字
$$
|I_n-\mathbf{a}\mathbf{a}^\top|=|I_{1}-\mathbf{a}^\top \mathbf{a}|=(1-\mathbf{a}^\top \mathbf{a})
$$
这并不常见。是特殊的好的性质





