# 矩阵乘法的行列式

## 概述

>[!note] 定理
>$$|\mathbf{A}\mathbf{B}|=|\mathbf{A}||\mathbf{B}|$$

需要说明的是，能乘和能取行列式的前提是 A 和 B 是同阶的方阵

另外，更强的形式是 **柯西比内公式** (Cauchy-Binet Formula)：

>[!note] 柯西比内公式
>给定矩阵：$\mathbf{C}_{m\times m}=\mathbf{A}_{m\times n}\mathbf{B}_{n\times m}$: 
>
>若 $m > n$ ，则 $$\det (\mathbf{A}\mathbf{B})=0$$
>若 $m\leq n$ ，则 $$\det(\mathbf{A}\mathbf{B})=\sum_{1\leq i_{1}< i_{2}<\dots< i_m \leq n} \mathbf{A}\begin{pmatrix}1, 2, \dots, m \\ i_{1}, i_{2}, \dots, i_m\end{pmatrix}\mathbf{B}\begin{pmatrix}i_{1}, i_{2}, \dots, i_m\\1, 2, \dots, m \end{pmatrix}$$

## 证明

### 柯西-比内公式的证明

下面直接给出 柯西-比内公式 的证明

对于 **情形一** ，当 $m>n$ 时：

我们可以形象地理解成：两个含有更少“信息”的矩阵变换得到了含有更多“信息”的矩阵。大矩阵肯定有冗余的“信息”，也即不满秩

严格的证明，使用矩阵乘法的 [[秩#矩阵的秩不等式]] ：
$$
rank(\mathbf{A}\mathbf{B})\leq \min(rank(\mathbf{A}), rank(\mathbf{B}))\leq n < m
$$
显然不满秩，故矩阵线性相关，故行列式为零

对于 **情形二**，当 $m\leq n$ 时：

需要特殊说明的是，当 $m=n$ 时，即为方阵乘方阵

证明使用 [[矩阵的分块]] 

取另外的矩阵：
$$
\begin{bmatrix}
\mathbf{A}_{m\times n} & \mathbf{0} \\
\mathbf{I}_n & \mathbf{B}_{n\times m}
\end{bmatrix}
$$
一方面，对这个矩阵进行分块初等行变换，可以得到：
$$
\begin{align}
\begin{vmatrix}
\mathbf{A}_{m\times n} & \mathbf{0} \\
\mathbf{I}_n & \mathbf{B}_{n\times m} 
\end{vmatrix} &=   
\begin{vmatrix}
\mathbf{0} & -\mathbf{A}\mathbf{B} \\
\mathbf{I}_n & \mathbf{B}
\end{vmatrix}
\end{align}
$$
对前 n 列进行拉普拉斯展开，当且仅当取后 n 行的时候不为零，得到
$$
\begin{align}
RHS&=|\mathbf{I}_n|\cdot(-1)^{(m+1)+(m+2)+\dots+(m+n)+1+2+\dots+n}|-\mathbf{A}\mathbf{B}| \\
&=(-1)^{mn}|-\mathbf{A}\mathbf{B}| \\
&=(-1)^{mn}(-1)^{m}|\mathbf{A}\mathbf{B}|
\end{align}
$$

另一方面，考虑如何得到 A 和 B 单独的行列式

对前 m 行进行拉普拉斯展开，得到：
$$
LHS=\sum_{1\leq i_{1}< i_{2}<\dots< i_m \leq n} \mathbf{A}\begin{pmatrix}1, 2, \dots, m \\ i_{1}, i_{2}, \dots, i_m\end{pmatrix}(-1)^{1+2+\dots+m+i_{1}+i_{2}+\dots+i_m}A'
$$
考察某个单项的余子式。对于前 m 行拉普拉斯展开后，必定选择了 m 列。余下的 (n-m) 列能够剩下 共计 $n-m$ 个 1，且每行至多有 1 个

则接下来对余子式的含有 1 的 $n-m$ 行拉普拉斯展开，必然只有 1 种选择。对应的代数余子式恰好与 A 对应
$$
A'=\mathbf{B}\begin{pmatrix}i_{1}, i_{2}, \dots, i_m\\1, 2, \dots, m \end{pmatrix}(-1)^{\frac{n(1+n)}{2}-(i_{1}+\dots+i_m)+1+2+\dots+n-m}
$$

单拎出来考察符号项：
$$
\begin{align}
&\ \ \ \ \ [1+2+\dots+m+i_{1}+\dots+i_m]+\frac{n(1+n)}{2}-(i_{1}+\dots+i_m)+1+2+\dots+n-m \\ \\
&=\frac{n(1+n)}{2}+\frac{m(m+1)}{2}+\frac{(n-m)(n-m+1)}{2} \\
&=\frac{n^2+n+m^2+m+n^2-2mn+m^2+n-m}{2} \\
&=n^2+n+m^2-mn
\end{align}
$$

此时，对应目标形式仅差了个符号项，故只要证明：
$$
n^2+n+m^2-mn\equiv mn+m \mod 2
$$
也即是：
$$
n(n+1)+m(m-1)\equiv 0 \mod 2 
$$
这是显然的，证毕

### 仅适用于方阵情形的证明

#### 引理 1：初等变换对方阵行列式的影响

>[!note] 引理 1 
>$$|PA|=|P||A|,|AQ|=|A||Q|$$

这是容易验证的

#### 引理 2：上三角阵乘法的行列式

>[!note] 引理 2
>$A,B$ 均为上三角阵，则有$$|AB|=|A||B|$$

这也是容易验证的

#### 定理的证明

记：
$$
A=P_tP_{t-1}\dots P_{2}P_{1}A_{0},\ B=B_{0}Q_{1}Q_{2}\dots Q_s
$$
则乘积有：
$$
\begin{align}
|AB|&=|P_tP_{t-1}\dots P_{2}P_{1}A_{0}Q_{0}Q_{1}Q_{2}\dots Q_s| \\
&=|P_t||P_{t-1}|\dots|P_{1}||A_{0}||B_{0}||Q_{1}|\dots|Q_{s}|
\end{align}
$$
另一方面：
$$
\begin{align}
|A||B|&=|P_tP_{t-1}\dots P_{2}P_{1}A_{0}||B_{0}Q_{1}Q_{2}\dots Q_s| \\
&=|P_t||P_{t-1}|\dots|P_{1}||A_{0}||B_{0}||Q_{1}|\dots|Q_{s}|=|AB|
\end{align}
$$
成立，证毕
