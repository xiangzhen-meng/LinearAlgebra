# 矩阵乘法

## 定义

$$
A_{m\times n} \cdot U_{n\times p} = V_{m\times p}
$$
其中：
$$
v_{i, j} = \sum_{k=1}^na_{i,k}\cdot u_{k,j}
$$
## 理解

### 运算方法

想要获得目标矩阵的第 (i, j) 元：
考察左矩阵的第 i 行，右矩阵的第 j 列，将每一个元素对应相乘，再求和

从线性方程组的角度理解即：
$$
\begin{align}
\begin{bmatrix}
a_{11}&a_{12}&\dots &a_{1n} \\ 
a_{21}&a_{22}&\dots &a_{2n} \\
\vdots&\vdots&&\vdots \\
a_{m1}&a_{m 2}&\dots&a_{mn}
\end{bmatrix}_{m\times n} \cdot 
\begin{bmatrix}
x_{1} \\
x_{2} \\
\vdots \\
x_n
\end{bmatrix}_{n\times 1} 
= 
\begin{bmatrix}
b_{1} \\
b_{2} \\
\vdots \\
b_m
\end{bmatrix}_{m\times 1}
\end{align}
$$
将左矩阵的每一行对应乘以 x1 ～ xn，才能得到 b1
将多组未知数（列矩阵）横向排列，得到多个列的右矩阵和目标矩阵

### 向量描述

将定义式中的 v，a，u **替换为矩阵或向量**，依然成立
$$
\begin{align}
\begin{bmatrix}
\mathbf{a_{1}} \\
\mathbf{a_{2}} \\
\vdots \\
\mathbf{a_m}
\end{bmatrix}_{m\times 1} \cdot 
\begin{bmatrix}
\mathbf{u_{1}} &\mathbf{u_{2}} &\dots &\mathbf{u_p}
\end{bmatrix}_{1\times p} =  
\begin{bmatrix}
\mathbf{a_{1}u_{1}} &\mathbf{a_{1}u_{2}} &\dots &\mathbf{a_{1}u_p} \\
\mathbf{a_{2}u_{1}} &\mathbf{a_{2}u_{2}} &\dots &\mathbf{a_{2}u_p} \\ 
\vdots &\vdots & &\vdots \\
\mathbf{a_{m}u_{1}} &\mathbf{a_{m}u_{2}} &\dots &\mathbf{a_{m}u_p} \\ 
\end{bmatrix}_{m\times p}
\end{align}
$$
其中，a1～am 为行向量，u1～um 为列向量
行向量乘列向量（**注意顺序**）得到了一个数字，处在 (i, j) 位置

类似地，
$$
\begin{align} 

\begin{bmatrix}
\mathbf{a_{1}} &\mathbf{a_{2}} &\dots &\mathbf{a_n}
\end{bmatrix}_{1\times n}  

\cdot 

\begin{bmatrix}
\mathbf{u_{1}} \\
\mathbf{u_{2}} \\
\vdots \\
\mathbf{u_n}
\end{bmatrix}_{n\times 1}
&=  
(\mathbf{a_{1}u_{1}} + \mathbf{a_{2}u_{2}} + \dots + \mathbf{a_n u_n})_{1\times 1}
\end{align}
$$
而考察每一个单项：
$$
\begin{align}
\mathbf{a_k u_k}&=
\begin{bmatrix}
a_{1k} \\
a_{2k} \\ 
\vdots \\
a_{mk}
\end{bmatrix}_{m\times 1}\cdot 
\begin{bmatrix}
u_{k1} &u_{k2} &\dots &u_{kp}
\end{bmatrix}_{1\times p} \\ \\
&= 
\begin{bmatrix}
a_{1k}u_{k 1} & a_{1k}u_{k 2} &\dots &a_{1k}u_{k p} \\
a_{2k}u_{k 1} & a_{2k}u_{k 2} &\dots &a_{2k}u_{k p} \\
\vdots &\vdots&&\vdots \\
a_{mk}u_{k 1} & a_{mk}u_{k 2} &\dots& a_{mk}u_{k p}
\end{bmatrix}_{m\times p}
\end{align}
$$

对单项矩阵求和即对 k 求和即得结果，这里使用了矩阵的加法

## 矩阵乘法与向量乘法

### 概述

>[!note] 观点
>如果 **任何** 一个向量右乘两个矩阵得到的结果都相同，那么这两个矩阵是同一个矩阵

这里的向量就像起到某种 **试探作用**，也即两个矩阵经过同样的行为都得到同样的东西，那么他们就是同一个矩阵。这即是定理：

>[!note] 定理
>若 $\mathbf{D}$ 和 $\mathbf{\hat{D}}$ 满足：$$
>\mathbf{D}\mathbf{x}=\mathbf{\hat{D}}\mathbf{x},\forall \mathbf{x}\in \mathbb{R^n}$$则：$$\mathbf{D}=\mathbf{\hat{D}}$$

证明：
不妨取 $\mathbf{x}_{1}=\mathbf{e}_{1}$ 得到两个矩阵第一列相同
依此续行，一直到取到 $\mathbf{x}_n=\mathbf{e}_n$ ，则 n 列全部相同。证毕

注意到，这里要求的 **任意** 其实可以换成 **任意一组基向量**，因为我们的证明过程就是在用基向量“套出”这个矩阵的信息

有等价形式：

>[!note] 等价形式
>$$\forall \mathbf{x}\in \mathbb{R}^n,\mathbf{A}(\mathbf{B}\mathbf{x})=(\mathbf{A}\mathbf{B})\mathbf{x}$$

容易由分量形式验证

### 由此思路对运算律的证明

>[!note] 结合律
>$$(\mathbf{A}\mathbf{B})\mathbf{C}=\mathbf{A}(\mathbf{B}\mathbf{C})$$

由上述思路，要证这个命题，只要证明：
$$
\forall \mathbf{x}\in \mathbb{R}^n,[(\mathbf{A}\mathbf{B})\mathbf{C}]\mathbf{x}=[\mathbf{A}(\mathbf{B}\mathbf{C})]\mathbf{x}
$$
左侧由定理的等价形式可以知道：
$$
LHS=(\mathbf{A}\mathbf{B})(\mathbf{C}\mathbf{x})
$$
将 $\mathbf{C}\mathbf{x}$ 视作向量，由等价形式有：
$$
LHS=\mathbf{A}(\mathbf{B}(\mathbf{C}\mathbf{x}))=\mathbf{A}((\mathbf{B}\mathbf{C})\mathbf{x})=(\mathbf{A}(\mathbf{B}\mathbf{C}))x=RHS
$$
证毕

**同样的**，分配律、“脱衣服法则” 等等定律也可由向量乘法给出
这个方式其实是将比较繁琐的分量形式证明封装在了矩阵与向量乘法当中

## 零积矩阵

### 零因子不一定为零矩阵

当 A 非奇异时，方有：
$$
AB=0 \implies B=\mathbf{0}
$$
可以用线性无关解释。非奇异矩阵 A 的列向量线性组合为零，当且仅当系数全部为零，因此 B 的每一列都为零

## 交换

通常来说，矩阵乘法是不具有交换律的。但是对于特殊的矩阵，可能存在可交换的特例。下面给出几个例子

1. 单位阵可交换
2. 矩阵自身的乘积（如果能乘的话，也即为方阵）
3. 方阵的逆和方阵本身（也即左逆等于右逆）

### 命题 1 将特殊矩阵拆解为单位阵

>[!note] 命题 1 
>若矩阵 $A$ 满足：$A=\lambda I+kB$，则 $AX=XA$ 等价于：$$BX=XB$$

这件事情是显然的，只要分配律即可证明，但是作为化简手段还是很有效的

