# 对换

## 定理 1 奇偶性
### 定理内容

**对换改变排列奇偶性** 
### 方法一：直接考察一般情况，统计作差

一般地，取排列 $S_1\ j_s\ S_2\ j_t\ S_3$ ，并逐个统计逆序数
需要注意的是，片段 $S_1\ j_s$ 统计了一遍 $S_1$ 的逆序数，整个过程出现重复，需要减去

特殊地，考虑 S1、S2、S3 三个序列任一为空：
拓展定义：$\tau (j_k) = 0$ ，之后与一般情况相同

最后比较对换前后的序列奇偶性即可
### 方法二：考察相邻情况后对操作累加

进一步地，我们先令 S2 为空，则相邻对换显然改变奇偶性
当 S2 不为空时，可以逐个交换即可。共需对换如下次数：
$$
2 \cdot \#{S2} \ + 1
$$
显然模 2 余 1，改变奇偶性

## 定理 2 对换次数
### 定理内容

**任意序列可以通过若干次对换变成自然序列，对换次数与序列奇偶性相同** 
### 奇偶性相同

这个部分并不依赖于对换的方式。
设通过 M 次对换变成了自然序列，则一定改变 M 次奇偶性才变成了偶序列
$$
\tau (j_1, \dots, j_n) + M \equiv \tau (1, \dots, n)\ \ (mod \ 2)
$$
因此 M 必定与原序列奇偶性相同
