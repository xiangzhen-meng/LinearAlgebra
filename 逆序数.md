# 逆序数
## 定义
逆序数即逆序对个数
$$
\tau(j_1, j_2, \cdots, j_n) = \# \{(j_p, j_q)|1\leq p < q \leq n, j_p > j_q \}  
$$
## 求法
### 方法一：通用方法

参见 [[归并排序求逆序数]] 
### 方法二：考察首项对后续的逆序数

考察一列对 (1, 2, ..., n) 的排列的逆序数
$$
\tau(i_1,\dots, i_n) = i_1 - 1 + \tau(i_2, \dots ,i_n)
$$
显然首项对后续逆序数的影响：只会影响比首项小的数
## 奇排列与偶排列
### 定义

对于一个排列：
若逆序数为奇数，则称为奇排列；若逆序数为偶数，则称为偶排列
### 奇排列与偶排列的性质

显然，对于 $1, 2, \dots , n$ 共 n 个数，共有 $n!$ 种排列
#### 定理一：奇偶排列数目相等

**证法一** ：利用 [[对换]] 证明
引理：对于一个奇排列，将前两个数字对换，必然得到一个偶排列，而且任意两个不同的奇排列得到的偶排列不同；反之亦然
可以利用反证法证明这个引理
这就意味着，
$$
\#(奇排列) \ge \#(偶排列) \ 且 \ \#(偶排列) \ge \#(奇排列)
$$
这说明
$$\#(奇排列) = \#(偶排列) = \frac{n!}{2}$$
**证法二** ：利用特殊行列式证明

>[!note] 特殊行列式性质：全 1 行列式为 0 
>$$
>\det(A)=
>\begin{vmatrix}
>1 & \cdots & 1 \\
>\vdots & \ddots & \vdots \\
>1 & \cdots & 1
>\end{vmatrix}
>= 0
>$$

设共有 k 个奇排列，$n! - k$ 种偶排列，则有
$$
\det(A) 
= \sum_{(j_1, \dots, j_n)} (-1)^{\tau (j_1, \dots, j_n)}\ \prod_{i=1}^{n}a_{i,j_i}
=k(-1)^1 + (n! - k)^0 = n! - 2k = 0
$$
证毕！